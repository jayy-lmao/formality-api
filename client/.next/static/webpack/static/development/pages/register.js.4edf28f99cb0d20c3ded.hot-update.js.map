{"version":3,"file":"static/webpack/static/development/pages/register.js.4edf28f99cb0d20c3ded.hot-update.js","sources":["webpack:///./pages/register.tsx"],"sourcesContent":["import React from \"react\";\nimport { useFormik, ErrorMessage } from \"formik\";\nimport { gql } from \"apollo-boost\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { getGraphQLUserRegisterError } from \"../utils/getGraphQLUserRegisterError\";\nimport Router from \"next/router\";\nimport Input from \"../components/Input\";\nimport { userDetailsCard } from \"../styles/userDetailsCard\";\n\nconst REGISTER_USER = gql`\n    mutation($email: String!, $password: String!) {\n        createUser(data: { email: $email, password: $password }) {\n            id\n            email\n        }\n    }\n`;\n\nconst Register = () => {\n    const [ registerUser, { data } ] = useMutation(REGISTER_USER);\n    const formik = useFormik({\n        initialValues: {\n            email: \"\",\n            password: \"\",\n        },\n        onSubmit: ({ email, password }, { setErrors }) => {\n            registerUser({\n                variables: {\n                    email,\n                    password,\n                },\n            })\n                .then(({ data: { createUser } }) => {\n                    console.log(createUser);\n                    Router.push(\"/login\");\n                })\n                .catch((responseErrors) => {\n                    setErrors(getGraphQLUserRegisterError(responseErrors));\n                });\n        },\n    });\n\n    return (\n        <div css={userDetailsCard}>\n            <h1>Register</h1>\n            <form onSubmit={formik.handleSubmit}>\n                <Input\n                    label=\"Email\"\n                    name=\"email\"\n                    id=\"email\"\n                    type=\"email\"\n                    onChange={formik.handleChange}\n                    value={formik.values.email}\n                />\n                <Input\n                    label=\"Password\"\n                    name=\"password\"\n                    id=\"password\"\n                    type=\"password\"\n                    onChange={formik.handleChange}\n                    value={formik.values.password}\n                />\n                {/* <ErrorMessage name=\"password\" /> */}\n                <button type=\"submit\">SignUp</button>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAnBA;AAsBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}