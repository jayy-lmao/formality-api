{"ast":null,"code":"var _jsxFileName = \"/app/pages/register.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useFormik } from \"formik\";\nimport { gql } from \"apollo-boost\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { getGraphQLUserRegisterError } from \"../utils/getGraphQLUserRegisterError\";\nimport Router from \"next/router\";\nimport Input from \"../components/Input\";\nimport { userDetailsCard } from \"../styles/userDetailsCard\";\nimport { buttonStyle } from \"./buttonStyle\";\njsx;\nconst REGISTER_USER = gql`\n    mutation($email: String!, $password: String!) {\n        createUser(data: { email: $email, password: $password }) {\n            id\n            email\n        }\n    }\n`;\n\nconst Register = () => {\n  const [registerUser, {\n    data\n  }] = useMutation(REGISTER_USER);\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    onSubmit: ({\n      email,\n      password\n    }, {\n      setErrors\n    }) => {\n      registerUser({\n        variables: {\n          email,\n          password\n        }\n      }).then(({\n        data: {\n          createUser\n        }\n      }) => {\n        console.log(createUser);\n        Router.push(\"/login\");\n      }).catch(responseErrors => {\n        setErrors(getGraphQLUserRegisterError(responseErrors));\n      });\n    }\n  });\n  return jsx(\"div\", {\n    css: userDetailsCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Register\"), jsx(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, jsx(Input, {\n    label: \"Email\",\n    name: \"email\",\n    id: \"email\",\n    type: \"email\",\n    onChange: formik.handleChange,\n    value: formik.values.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), jsx(Input, {\n    label: \"Password\",\n    name: \"password\",\n    id: \"password\",\n    type: \"password\",\n    onChange: formik.handleChange,\n    value: formik.values.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), jsx(\"button\", {\n    css: buttonStyle,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"SignUp\")));\n};\n\nexport default Register;","map":{"version":3,"sources":["/app/pages/register.tsx"],"names":["jsx","useFormik","gql","useMutation","getGraphQLUserRegisterError","Router","Input","userDetailsCard","buttonStyle","REGISTER_USER","Register","registerUser","data","formik","initialValues","email","password","onSubmit","setErrors","variables","then","createUser","console","log","push","catch","responseErrors","handleSubmit","handleChange","values"],"mappings":";;;;AACA;AACA,SAASA,GAAT,QAAoB,eAApB;AACA,SAASC,SAAT,QAAwC,QAAxC;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,2BAAT;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP;AACA,SAASC,eAAT;AACA,SAASC,WAAT;AACAR,GAAG;AAEH,MAAMS,aAAa,GAAGP,GAAI;;;;;;;CAA1B;;AASA,MAAMQ,QAAQ,GAAG,MAAM;AACnB,QAAM,CAAEC,YAAF,EAAgB;AAAEC,IAAAA;AAAF,GAAhB,IAA6BT,WAAW,CAACM,aAAD,CAA9C;AACA,QAAMI,MAAM,GAAGZ,SAAS,CAAC;AACrBa,IAAAA,aAAa,EAAE;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KADM;AAKrBC,IAAAA,QAAQ,EAAE,CAAC;AAAEF,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,EAAsB;AAAEE,MAAAA;AAAF,KAAtB,KAAwC;AAC9CP,MAAAA,YAAY,CAAC;AACTQ,QAAAA,SAAS,EAAE;AACPJ,UAAAA,KADO;AAEPC,UAAAA;AAFO;AADF,OAAD,CAAZ,CAMKI,IANL,CAMU,CAAC;AAAER,QAAAA,IAAI,EAAE;AAAES,UAAAA;AAAF;AAAR,OAAD,KAA8B;AAChCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAhB,QAAAA,MAAM,CAACmB,IAAP,CAAY,QAAZ;AACH,OATL,EAUKC,KAVL,CAUYC,cAAD,IAAoB;AACvBR,QAAAA,SAAS,CAACd,2BAA2B,CAACsB,cAAD,CAA5B,CAAT;AACH,OAZL;AAaH;AAnBoB,GAAD,CAAxB;AAsBA,SACI;AAAK,IAAA,GAAG,EAAEnB,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAM,IAAA,QAAQ,EAAEM,MAAM,CAACc,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,IAAC,KAAD;AACI,IAAA,KAAK,EAAC,OADV;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,EAAE,EAAC,OAHP;AAII,IAAA,IAAI,EAAC,OAJT;AAKI,IAAA,QAAQ,EAAEd,MAAM,CAACe,YALrB;AAMI,IAAA,KAAK,EAAEf,MAAM,CAACgB,MAAP,CAAcd,KANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EASI,IAAC,KAAD;AACI,IAAA,KAAK,EAAC,UADV;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,EAAE,EAAC,UAHP;AAII,IAAA,IAAI,EAAC,UAJT;AAKI,IAAA,QAAQ,EAAEF,MAAM,CAACe,YALrB;AAMI,IAAA,KAAK,EAAEf,MAAM,CAACgB,MAAP,CAAcb,QANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAkBI;AAAQ,IAAA,GAAG,EAAER,WAAb;AAA0B,IAAA,IAAI,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBJ,CAFJ,CADJ;AA2BH,CAnDD;;AAqDA,eAAeE,QAAf","sourcesContent":["import React from \"react\";\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useFormik, ErrorMessage } from \"formik\";\nimport { gql } from \"apollo-boost\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { getGraphQLUserRegisterError } from \"../utils/getGraphQLUserRegisterError\";\nimport Router from \"next/router\";\nimport Input from \"../components/Input\";\nimport { userDetailsCard } from \"../styles/userDetailsCard\";\nimport { buttonStyle } from \"./buttonStyle\";\njsx;\n\nconst REGISTER_USER = gql`\n    mutation($email: String!, $password: String!) {\n        createUser(data: { email: $email, password: $password }) {\n            id\n            email\n        }\n    }\n`;\n\nconst Register = () => {\n    const [ registerUser, { data } ] = useMutation(REGISTER_USER);\n    const formik = useFormik({\n        initialValues: {\n            email: \"\",\n            password: \"\",\n        },\n        onSubmit: ({ email, password }, { setErrors }) => {\n            registerUser({\n                variables: {\n                    email,\n                    password,\n                },\n            })\n                .then(({ data: { createUser } }) => {\n                    console.log(createUser);\n                    Router.push(\"/login\");\n                })\n                .catch((responseErrors) => {\n                    setErrors(getGraphQLUserRegisterError(responseErrors));\n                });\n        },\n    });\n\n    return (\n        <div css={userDetailsCard}>\n            <h1>Register</h1>\n            <form onSubmit={formik.handleSubmit}>\n                <Input\n                    label=\"Email\"\n                    name=\"email\"\n                    id=\"email\"\n                    type=\"email\"\n                    onChange={formik.handleChange}\n                    value={formik.values.email}\n                />\n                <Input\n                    label=\"Password\"\n                    name=\"password\"\n                    id=\"password\"\n                    type=\"password\"\n                    onChange={formik.handleChange}\n                    value={formik.values.password}\n                />\n                {/* <ErrorMessage name=\"password\" /> */}\n                <button css={buttonStyle} type=\"submit\">\n                    SignUp\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}