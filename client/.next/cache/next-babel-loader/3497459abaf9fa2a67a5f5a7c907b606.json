{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/app/pages/register.tsx\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation($email: String!, $password: String!) {\\n        createUser(data: { email: $email, password: $password }) {\\n            id\\n            email\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport { gql } from \"apollo-boost\";\nimport { useMutation } from \"@apollo/react-hooks\";\nvar REGISTER_USER = gql(_templateObject());\n\nvar Register = function Register() {\n  var _useMutation = useMutation(REGISTER_USER),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      registerUser = _useMutation2[0],\n      data = _useMutation2[1].data;\n\n  var formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var email, password, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                email = _ref.email, password = _ref.password;\n                _context.next = 3;\n                return registerUser({\n                  variables: {\n                    email: email,\n                    password: password\n                  }\n                })[\"catch\"](function (errorResponse) {\n                  // console.log(errorResponse)\n                  if (errorResponse.includes('duplicate key error')) {\n                    console.error('User Already Exists');\n                  }\n                });\n\n              case 3:\n                response = _context.sent;\n                console.log(response); // const { errors } = response;\n                // if (errors) {\n                //     console.error(errors);\n                // } else {\n                //     console.table(response.data);\n                // }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Email address\", __jsx(\"input\", {\n    name: \"email\",\n    id: \"email\",\n    type: \"email\",\n    onChange: formik.handleChange,\n    value: formik.values.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), __jsx(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Email address\", __jsx(\"input\", {\n    name: \"password\",\n    id: \"password\",\n    type: \"password\",\n    onChange: formik.handleChange,\n    value: formik.values.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"SignUp\")));\n};\n\nexport default Register;","map":{"version":3,"sources":["/app/pages/register.tsx"],"names":["React","useFormik","gql","useMutation","REGISTER_USER","Register","registerUser","data","formik","initialValues","email","password","onSubmit","variables","errorResponse","includes","console","error","response","log","handleSubmit","handleChange","values"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AAEA,IAAMC,aAAa,GAAGF,GAAH,mBAAnB;;AASA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,qBACgBF,WAAW,CAACC,aAAD,CAD3B;AAAA;AAAA,MACXE,YADW;AAAA,MACKC,IADL,oBACKA,IADL;;AAEnB,MAAMC,MAAM,GAAGP,SAAS,CAAC;AACrBQ,IAAAA,aAAa,EAAE;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KADM;AAKrBC,IAAAA,QAAQ;AAAA;AAAA;AAAA,+BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAASF,gBAAAA,KAAT,QAASA,KAAT,EAAgBC,QAAhB,QAAgBA,QAAhB;AAAA;AAAA,uBACiBL,YAAY,CAAC;AAChCO,kBAAAA,SAAS,EAAE;AACPH,oBAAAA,KAAK,EAALA,KADO;AAEPC,oBAAAA,QAAQ,EAARA;AAFO;AADqB,iBAAD,CAAZ,UAKd,UAAAG,aAAa,EAAI;AACtB;AACA,sBAAIA,aAAa,CAACC,QAAd,CAAuB,qBAAvB,CAAJ,EAAkD;AAC9CC,oBAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd;AACH;AACJ,iBAVsB,CADjB;;AAAA;AACAC,gBAAAA,QADA;AAYNF,gBAAAA,OAAO,CAACG,GAAR,CAAYD,QAAZ,EAZM,CAaN;AACA;AACA;AACA;AACA;AACA;;AAlBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AALa,GAAD,CAAxB;AA2BA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEV,MAAM,CAACY,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AACI,IAAA,IAAI,EAAC,OADT;AAEI,IAAA,EAAE,EAAC,OAFP;AAGI,IAAA,IAAI,EAAC,OAHT;AAII,IAAA,QAAQ,EAAEZ,MAAM,CAACa,YAJrB;AAKI,IAAA,KAAK,EAAEb,MAAM,CAACc,MAAP,CAAcZ,KALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAWI;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,EAAE,EAAC,UAFP;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,QAAQ,EAAEF,MAAM,CAACa,YAJrB;AAKI,IAAA,KAAK,EAAEb,MAAM,CAACc,MAAP,CAAcX,QALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAXJ,EAqBI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ,CADJ,CADJ;AA2BH,CAxDD;;AA0DA,eAAeN,QAAf","sourcesContent":["import React from \"react\";\nimport { useFormik } from \"formik\";\nimport { gql } from \"apollo-boost\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\nconst REGISTER_USER = gql`\n    mutation($email: String!, $password: String!) {\n        createUser(data: { email: $email, password: $password }) {\n            id\n            email\n        }\n    }\n`;\n\nconst Register = () => {\n    const [ registerUser, { data } ] = useMutation(REGISTER_USER);\n    const formik = useFormik({\n        initialValues: {\n            email: \"\",\n            password: \"\",\n        },\n        onSubmit: async ({ email, password }) => {\n            const response = await registerUser({\n                variables: {\n                    email,\n                    password,\n                },\n            }).catch(errorResponse => {\n                // console.log(errorResponse)\n                if (errorResponse.includes('duplicate key error')){\n                    console.error('User Already Exists')\n                }\n            });\n            console.log(response);\n            // const { errors } = response;\n            // if (errors) {\n            //     console.error(errors);\n            // } else {\n            //     console.table(response.data);\n            // }\n        },\n    });\n\n    return (\n        <div>\n            <form onSubmit={formik.handleSubmit}>\n                <label htmlFor=\"email\">\n                    Email address\n                    <input\n                        name=\"email\"\n                        id=\"email\"\n                        type=\"email\"\n                        onChange={formik.handleChange}\n                        value={formik.values.email}\n                    />\n                </label>\n                <label htmlFor=\"password\">\n                    Email address\n                    <input\n                        name=\"password\"\n                        id=\"password\"\n                        type=\"password\"\n                        onChange={formik.handleChange}\n                        value={formik.values.password}\n                    />\n                </label>\n                <button type=\"submit\">SignUp</button>\n            </form>\n        </div>\n    );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}